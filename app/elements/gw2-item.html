<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">

<script src="../scripts/gw2.js"></script>
<style>
				.root {
					min-height: 84px;
	}

	.image {
					float: left;
					height: 100%;
	}

	.content::first-line {
		font-weight: bold;
	}
</style>
<dom-module id="gw2-item">
  <template>
	<div class="root">
		<div class="image">
      <img src="{{item.icon}}">

		</div>
		<div class="content">
			{{count}} {{item.name}}<br>
      {{item.description}}
		</div>
    <iron-ajax  url="{{item_url}}"last-response="{{item}}" auto></iron-ajax>
    </div>
  </template>
  <script>
    Polymer({
      is: 'gw2-item',
      properties: {
        item_id: {
          type: Number,
          reflectToAttribute: true
        },
        count: {
          type: Number,
          reflectToAttribute: true
        },
        item_url: {
          type: String,
          computed: 'getItemUrl(item_id)',
          readOnly: true,
          notify: true
        }
      },
      getItemUrl: function(item_id) {
        return `${GW2_API}/v2/items/${item_id}`
      }

    });

  </script>
</dom-module>
