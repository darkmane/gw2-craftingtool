<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./gw2-item.html">
<script src="../scripts/gw2.js"></script>

<dom-module id="gw2-craftingtool">
  <template>
    <template is="dom-bind" id="gw2_items_list">


      <!--<iron-localstorage name="gw2_item_list" value="[[itemList]]"></iron-localstorage>-->

      <!--<iron-ajax url="../scripts/itemtypebyname.json" last-response="{{itemTypeHash}}" auto></iron-ajax>-->
      <!--<iron-localstorage name="gw2_item_type_hash" value="[[itemTypeHash]]"></iron-localstorage>-->
      <iron-ajax id="item_list" url="../scripts/itemlist.json" handle-as="json" last-response="{{data}}" verbose  auto></iron-ajax>
      <iron-list items="[[data]]" as="item" style="min-height: 200px">
        <template>
          <gw2-recipe item_id="{{item.id}}"></gw2-recipe>
        </template>
      </iron-list>
    </template>
  </template>
  <script>
    Polymer({
      is: 'gw2-craftingtool',
      properties: {
        type: Number,
        subtype: Number
      },
      listeners: {
        'item_list.response': 'itemlistResponseHandler'
      },
      itemlistResponseHandler: function(e){
        console.log(JSON.stringify(e));
      }
    });



  </script>
</dom-module>
